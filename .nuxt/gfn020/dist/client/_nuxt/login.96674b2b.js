import{_ as w,y as V,l as T,r as u,e as p,f as d,i as r,j as g,t as f,z as y,h as c,o as v,k as x}from"./entry.00c971bc.js";import{u as h}from"./fetch.46c279e9.js";const B=c("br",null,null,-1),E=c("br",null,null,-1),N=c("br",null,null,-1),S=["textContent"],L=["textContent"],P={__name:"login",setup(U){const t=V(),k=T(),a=u(),n=u(),o=u(),l=u();async function b(){const{data:e}=await h("/api/register",{method:"POST",body:{email:a.value,password:n.value}},"$902TwecxBL");o.value=e.value.errorMessage,l.value=e.value.message,l.value&&(t.token=e.value.token,t.sharedEmail=e.value.email)}async function C(){const{data:e}=await h("/api/login",{method:"POST",body:{email:a.value,password:n.value}},"$fTssZ0Jkex");console.log(e),o.value=e.value.errorMessage,l.value=e.value.message,l.value?(t.sharedEmail=a.value,t.token=e.value.token,k.push("/personal")):t.sharedEmail=null}return(e,s)=>{const m=p("v-text-field"),_=p("v-btn");return v(),d("form",null,[r(m,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=i=>a.value=i),type:"email",name:"email",placeholder:"email",variant:"outlined"},null,8,["modelValue"]),B,r(m,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=i=>n.value=i),type:"password",name:"password",placeholder:"password",variant:"outlined"},null,8,["modelValue"]),E,r(_,{id:"login-button",type:"button",variant:"tonal",onClick:C},{default:g(()=>[x(" Login ")]),_:1}),r(_,{id:"register-button",type:"button",variant:"tonal",onClick:b},{default:g(()=>[x(" Register ")]),_:1}),N,o.value?(v(),d("div",{key:0,class:"error",textContent:f(o.value)},null,8,S)):y("v-if",!0),l.value?(v(),d("div",{key:1,textContent:f(o.value)},null,8,L)):y("v-if",!0)])}}},O=w(P,[["__file","C:/Users/kmba2/Coding/Projects in coding/Yessay/client/src/pages/login.vue"]]);export{O as default};
