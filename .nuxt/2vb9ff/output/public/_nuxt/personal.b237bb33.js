import{_ as M,m as R,p as Y,r as s,w as j,e as _,f as l,q as e,i as u,t as C,c as P,j as d,F as q,A as W,o as n,k as v,s as G,v as H,h as K}from"./entry.1a38f8fd.js";import{u as g}from"./fetch.afb6cea4.js";const Z=f=>(G("data-v-5338add1"),f=f(),H(),f),z={id:"argument-inputs"},J={key:0},Q={key:1},X={key:3,id:"edit-buttons"},ee={key:4},te={key:5},ae=Z(()=>K("br",null,null,-1)),oe={key:6,id:"personal-arguments-container"},ne={key:0},se={__name:"personal",async setup(f){let p,A;const V=R(),O=Y(),i=s(),r=s(),y=s(),T=s(),k=s(),b=s([]),w=s(!1),m=s(!1),E=s();console.log("before verifyToken",V.token);const{data:S}=([p,A]=j(()=>g("/api/verifyToken",{method:"POST",body:{token:V.token.token}},"$sRbWukuRoL")),p=await p,A(),p);console.log(S.verified),S.verified?h():O.push("/authentication");async function h(){const{data:t}=await g("/api/displayPersonalArguments",{method:"POST",body:{email:tokenVerification.data.result.email}},"$1Kc7m7vU5C");T.value=t.value.errorMessage,b.value=[],t.value.arguments&&t.value.arguments.forEach(a=>{b.value.push(a)})}async function I(){const{data:t}=await g("/api/createArgument",{method:"POST",body:{email:tokenVerification.data.result.email,title:i.value,argument:r.value}},"$gpmGZiNUDk");y.value=t.value.errorMessage,k.value=t.value.message,h()}function $(){w.value=!w.value}async function B(t){await g("/api/destroyArgument",{method:"POST",body:{id:t}},"$2fnPsaqAOo"),h()}function N(t,a,x){m.value=!0,E.value=t,r.value=a,i.value=x,routerViewContainer.value.scrollTop=0}async function U(){const{data:t}=await g("/api/confirmEdit",{method:"POST",body:{id:E.value,title:i.value,argument:r.value}},"$ryY9IrnHWg");y.value=t.value.errorMessage,k.value=t.value.message,h()}return(t,a)=>{const x=_("v-text-field"),D=_("v-textarea"),c=_("v-btn"),F=_("v-card-actions"),L=_("v-card");return n(),l("div",z,[e("text field/title"),u(x,{id:"argument-title",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=o=>i.value=o),placeholder:"Argument Title",class:"argument-class"},null,8,["modelValue"]),e("word counter"),i.value?(n(),l("div",J,C(i.value.length)+"/100 ",1)):e("v-if",!0),e("Text area"),u(D,{id:"argument-body",modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=o=>r.value=o),placeholder:"Enter the argument you are making",class:"argument-class",rows:"20"},null,8,["modelValue"]),e("word counter"),r.value?(n(),l("div",Q,C(r.value.length)+"/5000 ",1)):e("v-if",!0),e("button for adding argument"),m.value?e("v-if",!0):(n(),P(c,{key:2,id:"add-argument-button",class:"argument-class",variant:"tonal",onClick:I},{default:d(()=>[v(" Add Argument ")]),_:1})),e("buttons for editing"),m.value?(n(),l("div",X,[u(c,{variant:"tonal",onClick:a[2]||(a[2]=()=>U())},{default:d(()=>[v(" Confirm Edit ")]),_:1}),u(c,{variant:"tonal",onClick:a[3]||(a[3]=()=>{m.value=!1,r.value=null,i.value=null})},{default:d(()=>[v(" Cancel Edit ")]),_:1})])):e("v-if",!0),e("messages"),y.value?(n(),l("div",ee,C(y.value),1)):e("v-if",!0),k.value?(n(),l("div",te,C(k.value),1)):e("v-if",!0),ae,e("To toggle arguments view"),u(c,{variant:"tonal",onClick:$},{default:d(()=>[v(" View Argumments ")]),_:1}),w.value?(n(),l("div",oe,[T.value?(n(),l("div",ne," You have made no personal arguments yet ")):(n(!0),l(q,{key:1},W(b.value,o=>(n(),P(L,{key:o.id,title:o.title,text:o.argument,variant:"tonal"},{default:d(()=>[u(F,null,{default:d(()=>[u(c,{onClick:()=>{m.value||B(o.id)}},{default:d(()=>[v(" Delete ")]),_:2},1032,["onClick"]),u(c,{onClick:le=>N(o.id,o.argument,o.title)},{default:d(()=>[v(" Edit ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["title","text"]))),128))])):e("v-if",!0)])}}},ue=M(se,[["__scopeId","data-v-5338add1"],["__file","C:/Users/kmba2/Coding/Projects in coding/Yessay/client/src/pages/personal.vue"]]);export{ue as default};
