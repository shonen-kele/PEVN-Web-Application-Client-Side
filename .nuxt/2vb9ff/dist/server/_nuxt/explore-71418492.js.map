{"version":3,"file":"explore-71418492.js","sources":["../../../../../src/stores/argument.js","../../../../../src/pages/explore.vue"],"sourcesContent":["import {defineStore} from 'pinia'\r\nimport {ref} from 'vue'\r\n\r\nexport const useArgumentStore = defineStore('argument',()=>{\r\n    const argumentTitle = ref()\r\n    const argumentBody = ref()\r\n    const email = ref()\r\n\r\n    return {argumentTitle, argumentBody, email}\r\n})","<script setup>\r\n  import {ref, onMounted, nextTick} from 'vue'\r\n  import {useRouter} from 'vue-router'\r\n  import {useArgumentStore} from '@/stores/argument'\r\n\r\n  const store = useArgumentStore()\r\n  const router = useRouter()\r\n  const columns = ref(null)\r\n  const vCards = ref(null)\r\n  const argumentContainer = ref([\r\n    {id:1, arguments:[]},\r\n    {id:2, arguments:[]},\r\n    {id:3, arguments:[]},\r\n    {id:4, arguments:[]}\r\n  ])\r\n  let offset = 0\r\n  for (let index = 0; index < argumentContainer.value.length; index++) {\r\n    const element = argumentContainer.value[index];\r\n    offset += element.arguments.length\r\n  }\r\n  const {data} = await useFetch('/api/displayArguments',{\r\n    method:'POST',\r\n    body:{\r\n      offset:offset\r\n    }\r\n  })\r\n  let args = data.value.arguments\r\n  for(let index = 0; index<4; index++){\r\n    let argument = args[index]\r\n    argumentContainer.value[index].arguments.push(argument)\r\n  }\r\n  onMounted(async ()=>{\r\n    let emptySpaces = []\r\n    for(let index=4;index<args.length;index++){\r\n      for(let colIndex=0;colIndex<4;colIndex++){\r\n        const columnBottom = columns.value[colIndex].getBoundingClientRect().bottom\r\n        const childBottom = columns.value[colIndex].lastElementChild.getBoundingClientRect().bottom\r\n        emptySpaces[colIndex] = columnBottom - childBottom\r\n      }\r\n      let smallestSpace = Math.max.apply(Math, emptySpaces)\r\n      argumentContainer.value[emptySpaces.indexOf(smallestSpace)].arguments.push(args[index])\r\n      await nextTick()\r\n    }\r\n  })\r\n</script>\r\n\r\n<template>\r\n  <h1>The explore page</h1>\r\n  <v-btn @click=\"()=>displayArguments\">Refresh page</v-btn>\r\n  <div id=\"argument-container\">\r\n    <div \r\n    v-for=\"column in argumentContainer\" \r\n    :key=\"column.id\"\r\n    ref=\"columns\"\r\n    class=\"column\">\r\n      <v-card \r\n      v-for=\"argument in column.arguments\" \r\n      :title=\"argument.title\"\r\n      :subtitle=\"argument.email\"\r\n      :text=\"argument.argument\"\r\n      ref=\"vCards\"\r\n      variant=\"tonal\">\r\n        <v-card-actions>\r\n          <v-flex>\r\n            <v-btn variant=\"text\" @click=\"()=>{\r\n              store.argumentTitle = argument.title\r\n              store.argumentBody = argument.argument\r\n              store.email = argument.email\r\n              router.push(`/arena-${argument.id}`)\r\n            }\">Rebute</v-btn>\r\n            <v-btn variant=\"text\">Entail</v-btn>\r\n            <v-btn variant=\"text\">Comment</v-btn>\r\n          </v-flex>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n  #argument-container{\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n  }\r\n\r\n  #argument-container div{\r\n    display: flex;\r\n    flex-direction: column;\r\n    width:400px;\r\n    margin: 10px;\r\n  }\r\n\r\n  .v-card-actions{\r\n    display: flex;\r\n    flex-direction: row;\r\n  }\r\n  \r\n  .v-card-actions .v-btn{\r\n    margin:5px;\r\n    color: rgb(85, 42, 37);\r\n  }\r\n</style>"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;AAGO,MAAM,mBAAmB,YAAY,YAAW,MAAI;AACvD,QAAM,gBAAgB,IAAK;AAC3B,QAAM,eAAe,IAAK;AAC1B,QAAM,QAAQ,IAAK;AAEnB,SAAO,EAAC,eAAe,cAAc,MAAK;AAC9C,CAAC;;;;;;;ACRD,UAAA,QAAA,iBAAA;AAKA,UAAA,SAAA,UAAA;AACA,QAAA,IAAA;AACA,UAAA,SAAA,IAAA,IAAA;AACA,UAAA,oBAAA,IAAA;AAAA,MACA,EAAA,IAAA,GAAA,WAAA,GAAA;AAAA,MACA,EAAA,IAAA,GAAA,WAAA,GAAA;AAAA,MACA,EAAA,IAAA,GAAA,WAAA,GAAA;AAAA,MACA,EAAA,IAAA,GAAA,WAAA,GAAA;AAAA,IACA,CAAA;AACA,QAAA,SAAA;AACA,aAAA,QAAA,GAAA,QAAA,kBAAA,MAAA,QAAA,SAAA;AACA,YAAA,UAAA,kBAAA,MAAA,KAAA;AACA,gBAAA,QAAA,UAAA;AAAA,IACA;AACA,UAAA,EAAA,KAAA,KAAuB,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,SAAA,yBAAA;AAAA,MACvB,QAAA;AAAA,MACA,MAAA;AAAA,QACA;AAAA,MACA;AAAA,IACA,GAAA,aAAA,CAAA;AACA,QAAA,OAAA,KAAA,MAAA;AACA,aAAA,QAAA,GAAA,QAAA,GAAA,SAAA;AACA,UAAA,WAAA,KAAA,KAAA;AACA,wBAAA,MAAA,KAAA,EAAA,UAAA,KAAA,QAAA;AAAA,IACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}